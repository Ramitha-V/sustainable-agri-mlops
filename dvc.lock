schema: '2.0'
stages:
  preprocess:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/crop_yield.csv
      hash: md5
      md5: cefa48c7486bbc1fa4f2f65f4e1ef342
      size: 1620945
    - path: src/data_preprocessing.py
      hash: md5
      md5: bbbd9a165a76afcb1b578193079f1ae4
      size: 1491
    params:
      params.yaml:
        data_preprocessing:
          test_size: 0.2
          random_state: 42
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 54a9184ede92f31edca7cbf154b7b1e9
      size: 2218870
    - path: data/processed/X_train.csv
      hash: md5
      md5: db199028fd58d7b630ce2704cfa1ab64
      size: 8869838
    - path: data/processed/y_test.csv
      hash: md5
      md5: de17771c045c1c86dedbfabea6796c85
      size: 41111
    - path: data/processed/y_train.csv
      hash: md5
      md5: 0b6cac602fbf41dadcce090f80427c60
      size: 164100
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/X_train.csv
      hash: md5
      md5: db199028fd58d7b630ce2704cfa1ab64
      size: 8869838
    - path: data/processed/y_train.csv
      hash: md5
      md5: 0b6cac602fbf41dadcce090f80427c60
      size: 164100
    - path: src/train.py
      hash: md5
      md5: bee35860f01f55b87f610692e07024ab
      size: 904
    params:
      params.yaml:
        train:
          random_state: 42
          n_estimators: 150
          max_depth: 5
          min_samples_split: 2
          model_path: saved_models/model.joblib
    outs:
    - path: saved_models/model.joblib
      hash: md5
      md5: 4fa847a65d33fba7a0e85b1ad7dfe042
      size: 610129
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 54a9184ede92f31edca7cbf154b7b1e9
      size: 2218870
    - path: data/processed/y_test.csv
      hash: md5
      md5: de17771c045c1c86dedbfabea6796c85
      size: 41111
    - path: saved_models/model.joblib
      hash: md5
      md5: 4fa847a65d33fba7a0e85b1ad7dfe042
      size: 610129
    - path: src/evaluate.py
      hash: md5
      md5: a1af2254380391214c9c8665a7fe30cd
      size: 985
    params:
      params.yaml:
        train.model_path: saved_models/model.joblib
    outs:
    - path: metrics.json
      hash: md5
      md5: d3a4fbe9bb0487599812cabbf056c2e0
      size: 104
